# =============================================================================
# Env360 Backend - Environment Variables
# =============================================================================
# Copy this file to .env and update with your actual values
# cp env.example .env

# =============================================================================
# Database Configuration
# =============================================================================
# PostgreSQL connection string
# Format: postgresql+asyncpg://user:password@host:port/database
DATABASE_URL=postgresql+asyncpg://env360:env360@localhost:5432/env360

# Database connection pool settings
DATABASE_POOL_SIZE=10
DATABASE_MAX_OVERFLOW=20

# =============================================================================
# OAuth/SSO Configuration (Azure AD / Microsoft Entra ID)
# =============================================================================
# OAuth Client ID from Azure AD App Registration
OAUTH_CLIENT_ID=your-azure-ad-client-id

# OAuth Client Secret from Azure AD App Registration
OAUTH_CLIENT_SECRET=your-azure-ad-client-secret

# OpenID Connect Discovery URL
# This endpoint provides all OAuth/OpenID Connect endpoints automatically
# For Azure AD / Microsoft Entra ID: https://login.microsoftonline.com/{tenant-id}/.well-known/openid-configuration
# For Google: https://accounts.google.com/.well-known/openid-configuration
# For Okta: https://{your-domain}.okta.com/.well-known/openid-configuration
OAUTH_DISCOVERY_URL=https://login.microsoftonline.com/{tenant-id}/.well-known/openid-configuration

# OAuth Redirect URI (must match Azure AD App Registration)
# For local development: http://localhost:8000/api/v1/auth/callback
OAUTH_REDIRECT_URI=http://localhost:8000/api/v1/auth/callback

# OAuth Scopes (space-separated)
# Required: User.Read (to read user profile)
# Optional: GroupMember.Read.All (to read AD group memberships)
OAUTH_SCOPE=openid profile email User.Read GroupMember.Read.All

# =============================================================================
# JWT Configuration
# =============================================================================
# Secret key for JWT token signing (use a strong, random secret in production)
# Generate with: openssl rand -hex 32
JWT_SECRET_KEY=your-super-secret-jwt-key-change-this-in-production

# JWT Algorithm
JWT_ALGORITHM=HS256

# JWT Token expiration time in minutes
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30

# =============================================================================
# Application Configuration
# =============================================================================
# Application name
APP_NAME=Env360 API

# Application version
APP_VERSION=1.0.0

# Debug mode (set to False in production)
DEBUG=True

# Environment (development, staging, production)
ENVIRONMENT=development

# =============================================================================
# CORS Configuration
# =============================================================================
# Allowed CORS origins (comma-separated)
# Add your frontend URLs here
CORS_ORIGINS=http://localhost:3000,http://localhost:5173,http://localhost:5174

# Frontend URL (for OAuth callback redirects)
# When OAuth callback redirects to backend URLs, they will be redirected to frontend instead
FRONTEND_URL=http://localhost:5173

# =============================================================================
# OpenID Authentication
# =============================================================================
# Enable automatic redirect to OAuth login for unauthenticated users
# When enabled, users accessing protected routes without authentication
# will be automatically redirected to OAuth login
ENABLE_OPENID_REDIRECT=true

# =============================================================================
# Super Admins
# =============================================================================
# Comma-separated list of super admin emails. These can be used to grant
# elevated privileges independent of directory roles/groups.
# Example: admin1@example.com,admin2@example.com
SUPER_ADMIN_EMAILS=

# =============================================================================
# Secret Encryption
# =============================================================================
# Fernet key (32 url-safe base64-encoded bytes) used to encrypt secrets at rest.
# Generate with: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
SECRETS_ENCRYPTION_KEY=
